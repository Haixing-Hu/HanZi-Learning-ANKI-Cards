帮我写个python程序。该程序的主要功能是为指定的汉字制作ANKI卡片。程序的具体要求如下：

1. 该程序从命令行参数中读入一个或多个输入文件名称，以及一个输出文件名称。如果命令行参数错误，打印程序的使用方法。
2. 每个输入文件都是UTF-8编码的文本文件，文件中包含了待处理的汉字，汉字之间以中文顿号，或英文顿号，或空白、回车、换行字符隔开。
3. 输入文件的文件名（去除文件名后缀），表示该文件中汉字所属的书籍名称。输入文件中可能存在以字符'#'开头的行，该行表示接下来的汉字在其所属书籍中所属的章节。例如，文件名为“四五快读.txt”，文件中内容如下：

```
# S1U1

人、口、大、中、小、哭、笑、一、上、
下、爸、妈、天、太、月、二、

# S1U2

地、阳、亮、星、云、火、水、三、
```

以上内容表示，汉字“人、口、大、中、小、哭、笑、一、上、下、爸、妈、天、太、月、二”都属于《四五快读》的S1U1章节；汉字“地、阳、亮、星、云、火、水、三”都属于《四五快读》的S1U2章节。


4. 程序从输入文件中读取汉字，为每个汉字制作一个ANKI卡片。每个ANKI卡片包含4个字段：第1个字段为该汉字卡片的标签；第2个字段是该汉字；第3个字段是该汉字的拼音；第4个字段为该汉字的解释。每个ANKI卡片的数据对应一行输出，字段之间以分隔符'|'隔开，分隔符左右各留1个空格以增加可读性。例如，对于上面的输入文件的前两个字，输出如下：

```
四五快读S1U1 | 人 | rén | 1.由类人猿进化而成的能制造和使用工具进行劳动、并能运用语言进行交际的动物：人类。<br>2. 别人，他人：“人为刀俎，我为鱼肉”。待人热诚。<br>3. 人的品质、性情、名誉：丢人，文如其人。
四五快读S1U1 | 口 | kǒu | 1. 人和动物吃东西和发声的器官（亦称“嘴”）：口腔。口才。口齿。口若悬河。<br>2. 容器通外面的地方：瓶子口。<br>3. 出入通过的地方：门口。港口。<br>4. 特指中国长城的某些关口（多用作地名）：古北口。喜峰口。<br>5. 破裂的地方：口子。
```

5. 汉字卡片所属的标签根据该汉字所属书籍（即其所在文件去除后缀的文件名）和该汉字所属章节（即其前面最近的以'#'开头的行的内容）构成，其格式为：`[所属书籍名称][所属章节名称]`。例如：`四五快读S1U1`。
6. 汉字的拼音、解释都可以从汉典网（http://www.zdic.net/）上获取。例如，对于汉字“人”，可以从`http://www.zdic.net/hans/%E4%BA%BA`上获取其拼音和解释，其中`%E4%BA%BA`是`人`这个汉字的URL编码形式。
7. 在汉字对应的汉典网页面上，可以通过CSS选择器：'span.dicpy:nth-child(1)' 获取该汉字的拼音。
8. 在汉字对应的汉典网页面上，可以通过CSS选择器：'.content.definitions.jnr > ol' 获取该汉字的解释；此选择器指向一个HTML的"<ol>"元素，其子每个元素"<li>"元素的内容为该汉字的一个解释。需要把这些解释用数字编号，通过字符串"<br>"拼接起来，作为该汉字的解释。最后得到的解释中，要把对该汉字的解释的用例中的字符'～'替换为该汉字本身。例如把对"人"的第一个解释"由类人猿进化而成的能制造和使用工具进行劳动、并能运用语言进行交际的动物：～类。"替换为"由类人猿进化而成的能制造和使用工具进行劳动、并能运用语言进行交际的动物：人类"。

请写个Python程序实现上述功能要求。程序必须结构清晰，风格良好，有适当的注视。